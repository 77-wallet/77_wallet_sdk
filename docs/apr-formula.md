# APR（年化收益率）计算文档

## 背景

TRON 网络为超级代表（SR）和超级代表合作伙伴（SRP）提供了两种奖励：区块奖励和投票奖励。这些奖励按照一定比例分配给超级代表以及为其投票的用户。超级代表和合作伙伴可以根据设定的佣金比率（Brokerage）从奖励中扣除部分，剩余部分则分发给投票者。

本文档详细描述了如何计算投票者的年化收益率（APR）。

------

## 奖励结构

### 1. 区块奖励

每生产一个区块，TRON 网络会奖励 16 TRX 给负责生产该区块的超级代表（SR）。区块奖励分配公式如下：

- 超级代表的总奖励：

  ```
  Reward = 460,800 / 27
  ```

  > 说明：TRON 每天生产 460,800 TRX，27 位超级代表轮流生产区块。

- 投票者的区块奖励：

  ```
  Reward = 460,800 / 27 * (1 - Brokerage) * (VoterVotes / SRVotes)
  ```

  > 其中：
  >
  > - Brokerage：超级代表的佣金比例。
  > - VoterVotes：投票者的投票数。
  > - SRVotes：该超级代表获得的总投票数。

### 2. 投票奖励

每生产一个区块，TRON 网络会奖励 160 TRX 给所有超级代表及合作伙伴，按其投票数占总投票数的比例分配。

- 超级代表的投票奖励：

  ```
  Reward = 4,608,000 * (SRVotes / TotalSRVotes) * Brokerage
  ```

  > 说明：每天的投票奖励总额为 4,608,000 TRX。

- 投票者的投票奖励：

  ```
  Reward = 4,608,000 * (SRVotes / TotalSRVotes) * (1 - Brokerage) * (VoterVotes / SRVotes)
  ```

------

## 年化收益率（APR）

APR 表示投票者通过奖励获得的年化收益率，计算公式为：

> **提示**：Tronscan 平台默认设定的投票者投票数为 10,000,000。

```
APR = ((VoterReward + BlockReward) / VoterVotes) * 100 * 365

> 说明：公式中的 365 代表一年中的天数，用于将收益转化为年化值。
```

> 说明：
>
> - VoterReward：投票奖励。
> - BlockReward：区块奖励。
> - VoterVotes：投票者的投票数。

### 默认假设

在以下计算中，默认投票者的投票数（VoterVotes）为 10,000,000。这是 Tronscan 平台默认使用的值，能够更好地与实际情况对齐。

### 计算步骤

1. **计算投票奖励（VoterReward）**：

   ```
   VoterReward = 4,608,000 * (SRVotes / TotalSRVotes) * (1 - Brokerage) * (VoterVotes / SRVotes)
   ```

2. **计算区块奖励（BlockReward）**：

   ```
   BlockReward = 460,800 / 27 * (1 - Brokerage) * (VoterVotes / SRVotes)
   ```

3. **计算 APR**：

   ```
   APR = ((VoterReward + BlockReward) / VoterVotes) * 100 * 365
   ```

------

## 示例计算

假设以下参数：

- 总投票数（TotalSRVotes）：28,978,895,254
- 超级代表的投票数（SRVotes）：1,233,278,454
- 投票者的投票数（VoterVotes）：10,000,000
- 佣金比例（Brokerage）：10%

### 1. 投票奖励

```
VoterReward = 4,608,000 * (1,233,278,454 / 28,978,895,254) * (1 - 0.10) * (10,000,000 / 1,233,278,454)
           ≈ 1431 TRX
```

### 2. 区块奖励

```
BlockReward = 460,800 / 27 * (1 - 0.10) * (10,000,000 / 1,233,278,454)
            ≈ 124 TRX
```

### 3. APR

```
APR = ((1431 + 124) / 10,000,000) * 100 * 365
    ≈ 5.67%
```

------

## 注意事项

- 投票者的实际收益与超级代表的佣金比例、投票权重密切相关。
- APR 计算结果仅供参考，实际收益可能因网络条件和参数变化而有所不同。

------

## 附录

- **区块奖励**：每个区块奖励 16 TRX。
- **投票奖励**：每个区块奖励 160 TRX，按比例分配给超级代表及其投票者。
- **佣金比例**：超级代表可以通过接口查询或调整其佣金比例。
